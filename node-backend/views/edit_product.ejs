<%- include('base') %>
<h2>Edit Product</h2>
<form method="POST">
    <div class="row g-3">
        <div class="col-md-6">
            <label class="form-label">SKU</label>
            <input type="text" class="form-control" name="sku" value="<%= product.sku %>" required autofocus>
        </div>
        <div class="col-md-6">
            <label class="form-label">Product Name</label>
            <input type="text" class="form-control" name="name" value="<%= product.name %>" required>
        </div>
        <div class="col-md-4">
            <label class="form-label">Category</label>
            <select class="form-select" name="category">
                <option value="Electronics" <%= product.category === 'Electronics' ? 'selected' : '' %>>Electronics</option>
                <option value="Clothing" <%= product.category === 'Clothing' ? 'selected' : '' %>>Clothing</option>
                <option value="Office Supplies" <%= product.category === 'Office Supplies' ? 'selected' : '' %>>Office Supplies</option>
            </select>
        </div>
        <div class="col-md-4">
            <label class="form-label">Price</label>
            <input type="number" step="0.01" class="form-control" name="price" value="<%= product.price %>" required min="0">
        </div>
        <div class="col-md-4">
            <label class="form-label">Current Stock</label>
            <input type="number" class="form-control" name="stock" value="<%= product.stock %>" required min="0">
        </div>
        <div class="col-md-6">
            <label class="form-label">Barcode</label>
            <input type="text" class="form-control" name="barcode" value="<%= product.barcode %>">
        </div>
        <div class="col-md-6">
            <label class="form-label">Expiry Date</label>
            <input type="date" class="form-control" name="expiry_date" value="<%= product.expiry_date ? product.expiry_date.toISOString().slice(0,10) : '' %>">
        </div>
        <div class="col-12">
            <label class="form-label">Description</label>
            <textarea class="form-control" name="description" rows="3"><%= product.description %></textarea>
        </div>
        <div class="col-md-4">
            <label class="form-label">Reorder Point</label>
            <input type="number" class="form-control" name="reorder_point" value="<%= product.reorder_point %>" required>
        </div>
        <div class="col-md-4">
            <label class="form-label">Location</label>
            <input type="text" class="form-control" name="location" value="<%= product.location %>" required>
        </div>
        <div class="col-md-4">
            <label class="form-label">Supplier</label>
            <select class="form-select" name="supplier_id">
                <option value="">Select Supplier</option>
                <% suppliers.forEach(function(supplier) { %>
                <option value="<%= supplier.id %>" <%= product.supplier_id === supplier.id ? 'selected' : '' %>><%= supplier.name %></option>
                <% }) %>
            </select>
        </div>
        <div class="col-12">
            <button type="submit" class="btn btn-primary w-100">Update Product</button>
        </div>
    </div>
</form>
